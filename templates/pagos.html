{% extends "base.html" %}

{% block contenido %}
<div class="container">
    <h2>Pagos de {{ cliente.nombre }}</h2>
    <form method="POST" action="{{ url_for('pagos', id=cliente.id) }}">
        <div>
            <label>Monto a Pagar:</label>
            <input type="number" name="monto" step="0.01" required>
        </div>
        <button type="submit">Registrar Pago</button>
    </form>

    <h3>Historial de Pagos</h3>
    {% if pagos %}
    <table border="1" cellpadding="5">
        <thead>
            <tr>
                <th>ID</th>
                <th>Monto</th>
                <th>Fecha</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for pago in pagos %}
            <tr>
                <td>{{ pago.id }}</td>
                <td>{{ pago.monto }}</td>
                <td>{{ pago.fecha_pago }}</td>
                <td><a href="{{ url_for('editar_pago', id=pago.id) }}">Editar</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No hay pagos registrados.</p>
    {% endif %}
    <a href="{{ url_for('inicio') }}">Volver a Inicio</a>
</div>
{% endblock %}
